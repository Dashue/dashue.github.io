<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="last-modified" content="2013-12-06T21:16:04.5337537-04:00" />
    <title>johanilsson.com</title>
    <link rel="stylesheet" type="text/css" href="/stylesheets/style.css" />
    <link rel="canonical" href="http://www.johanilsson.com/2012/02/a-few-caveats-when-using-strings-in-net/" />
</head>
<body class="home blog">
    <div id="page" class="hfeed site">
        <header id="masthead" class="site-header fancy-container lightgreen" role="banner">
            <hgroup>
                <h1 class="site-title"><a href="/" title="Random Ventures" rel="home">Random Ventures</a></h1>
                <p class="site-description">Software developer residing in the Caribbean</p>
            </hgroup>
            <nav role="navigation" class="site-navigation main-navigation">
                <h1 class="assistive-text">Menu</h1>
                <div class="assistive-text skip-link"><a href="#content" title="Skip to content">Skip to content</a></div>
                    <div class="textwidget logos">
                        <a href="https://twitter.com/johanilsson" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://twitter.com']);"><img src="/stylesheets/images/twitter.png"></a>
                        <a href="http://stackoverflow.com/users/651787/dashu" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://stackoverflow.com']);"><img src="/stylesheets/images/stackoverflow.png"></a>
                        <a href="http://www.linkedin.com/in/dashu" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://www.linkedin.com']);"><img src="/stylesheets/images/linkedin.png"></a>
                        <a href="https://plus.google.com/101140440944452538537/" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://plus.google.com']);"><img src="/stylesheets/images/googleplus.png"></a>
                        <a href="https://github.com/dashue" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','http://github.com']);"><img src="/stylesheets/images/github.png"></a>
						<a href="https://www.goodreads.com/user/show/18905539-johan-nilsson" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','https://www.goodreads.com/user/show/18905539-johan-nilsson']);"><img src="/stylesheets/images/goodreads.png"></a>
                    </div>
				<div class="menu">
                    <ul>
						<li><a href="/">Home</a></li>
                        <li><a href="/about">About</a></li>
						<li><a href="/archive">Archive</a></li>
                        <li><a href="/rss">RSS</a> / <a href="/feed">Atom</a></li>
                    </ul>
                </div>
            </nav>
        </header>
        <div id="main">
            <div id="primary" class="site-content">
                <div id="content" role="main">
                  

<div id="post">
    <h1>A few caveats when using Strings in .Net</h1>

    <div class="post-note">
      posted on 23 feb 2012
       | <a href="/category/.net">.Net</a>
      
    </div>
    
    
        
    <p>Strings in .Net are class objects and unlike value types they are stored on the heap.</p>

<p>According to msdn: <a href="http://msdn.microsoft.com/en-us/library/ee787088.aspx">http://msdn.microsoft.com/en-us/library/ee787088.aspx</a></p>

<blockquote>
  <p>Garbage collection occurs when one of the following conditions is true:</p>
  
  <ul>
  <li>The system has low physical memory.</li>
  <li>The memory that is used by allocated objects on the managed heap surpasses an acceptable threshold. This means that a threshold of acceptable memory usage has been exceeded on the managed heap. This threshold is continuously adjusted as the process runs.</li>
  <li>The GC.Collect  method is called. In almost all cases, you do not have to call this method, because the garbage collector runs continuously. This method is primarily used for unique situations and testing.</li>
  </ul>
</blockquote>

<p>Due to the second condition creating a string object can trigger garbage collection, which is costly in terms of performance. As developers we want to keep the string creation to a minimum. Since strings in .Net are immutable (manipulation results in a the creation of a new instance) means that combining two strings "string1" + "string2" results in the creation of three strings and editing a string results in creating a new one with the modification.</p>

<p>I think it's good to have the knowledge about how things work and why even though it's considered an micro optimization.</p>


    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-****"></script>

</div>
                </div>
                <!-- #content -->
            </div>
            <!-- #primary .site-content -->

            <!--
				<div id="secondary" class="widget-area fancy-container lightred" role="complementary">
						<aside id="archives-4" class="widget widget_archive">
							<h1 class="widget-title"><a href="/categories">Categories</a></h1>
							<ul class="category-list">
								  <li><a href="/category/.net" title=".Net">.Net [11]</a></li>
								  <li><a href="/category/opensource" title="Opensource">Opensource [2]</a></li>
								  <li><a href="/category/software-development" title="Software Development">Software Development [6]</a></li>
							</ul>
						</aside>
						<aside id="archives-4" class="widget widget_archive">
							<h1 class="widget-title"><a href="/archive">Archive</a></h1>
							<ul class="archive">
								  <li><a href="/archive#2013december">december, 2013 [1]</a></li>
								  <li><a href="/archive#2013november">november, 2013 [1]</a></li>
								  <li><a href="/archive#2013oktober">oktober, 2013 [1]</a></li>
								  <li><a href="/archive#2012februari">februari, 2012 [2]</a></li>
								  <li><a href="/archive#2012januari">januari, 2012 [5]</a></li>
								  <li><a href="/archive#2011december">december, 2011 [1]</a></li>
								  <li><a href="/archive#2011november">november, 2011 [3]</a></li>
								  <li><a href="/archive#2011oktober">oktober, 2011 [2]</a></li>
							</ul>
						</aside>
				</div>
			-->

        </div>	
        <!-- #main -->

        <footer id="colophon" class="site-footer" role="contentinfo">
            <div class="site-info">
                Powered by <a href="https://github.com/Sandra/Sandra.Snow" rel="generator">Sandra.Snow</a>.	
            </div>
            <!-- .site-info -->
        </footer>
        <!-- #colophon .site-footer -->
    </div>
    <!-- #page .hfeed .site -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src='/javascripts/prettify.js' type='text/javascript'></script>
    <!--script src='http://cdnjs.cloudflare.com/ajax/libs/prettify/188.0.0/prettify.js' type='text/javascript'></script-->
    <script type='text/javascript'>
      $(function () {
        $("pre code").parent().each(function () {
          if (!$(this).hasClass("prettyprint")) {
            $(this).addClass("prettyprint");
            a = true
          }
        });

        prettyPrint();
      });

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-655975-13']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
</body>
</html>
